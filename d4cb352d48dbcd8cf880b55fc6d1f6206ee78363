{
  "comments": [
    {
      "key": {
        "uuid": "cf7b9935_0b30ddcd",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/serviceuser/client/ConfigInfo.java",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-02-18T14:40:44Z",
      "side": 1,
      "message": "Does it work, if you change it to JsArrayString from GWT:\n\n  final native JsArrayString getBlockedNames() /*-{ return this.blocked_names; }-*/;\n\nand then trying to convert it like we are doing with permitted_labels in ChangeInfo, e. g.:\n\n    JsArrayString nativeValues \u003d change.permitted_values(labelName);\n    if (nativeValues \u003d\u003d null || nativeValues.length() \u003d\u003d 0) {\n      return;\n    }\n    List\u003cString\u003e values \u003d new ArrayList\u003c\u003e(nativeValues.length());\n    for (int i \u003d 0; i \u003c nativeValues.length(); i++) {\n      values.add(nativeValues.get(i));\n    }",
      "revId": "d4cb352d48dbcd8cf880b55fc6d1f6206ee78363",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "af6ae563_2aa03fb3",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/serviceuser/client/ConfigInfo.java",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-02-18T14:56:00Z",
      "side": 1,
      "message": "\u003e Does it work, if you change it to JsArrayString from GWT\n\nThanks. This works very well!",
      "parentUuid": "cf7b9935_0b30ddcd",
      "revId": "d4cb352d48dbcd8cf880b55fc6d1f6206ee78363",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "af6ae563_8aae0bab",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/serviceuser/client/StringListPanel.java",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-02-18T13:33:48Z",
      "side": 1,
      "message": "No idea how to create a JsArray\u003cNativeString\u003e that will result in a proper list in JSON...",
      "range": {
        "startLine": 92,
        "startChar": 2,
        "endLine": 97,
        "endChar": 18
      },
      "revId": "d4cb352d48dbcd8cf880b55fc6d1f6206ee78363",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "af6ae563_6aa637d4",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/serviceuser/client/StringListPanel.java",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-02-18T13:57:09Z",
      "side": 1,
      "message": "Have you checked this file? In this change i do just that: sending list of string from config section:\n\n* foo\n* bar\n* baz\n\nA receive it as list of strings on the server.\n\n [1] https://gerrit-review.googlesource.com/#/c/54230/7/gerrit-gwtui/src/main/java/com/google/gerrit/client/projects/ConfigInfo.java",
      "parentUuid": "af6ae563_8aae0bab",
      "range": {
        "startLine": 92,
        "startChar": 2,
        "endLine": 97,
        "endChar": 18
      },
      "revId": "d4cb352d48dbcd8cf880b55fc6d1f6206ee78363",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cf7b9935_eb3f9199",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/serviceuser/client/StringListPanel.java",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-02-18T14:56:00Z",
      "side": 1,
      "message": "Thanks for the pointer. This was helpful. I still have it on my todo list to review this change. Too bad I didn\u0027t find time for it so far.\n\nThe reading of the values returned from the server is now working if I use JsArrayString instead of JsArray\u003cNativeString\u003e. This looks now very easy:\n\n  final native JsArrayString getBlockedNames() /*-{ return this.blocked_names; }-*/;\n\nand then:\n\n  void display(JsArrayString values) {\n    int row \u003d 1;\n    for (String v : Natives.asList(values)) {\n      populate(row, v);\n      row++;\n    }\n  }\n\nI\u0027m still struggling though to send back the list to the server. Based on the example to which you pointed me I modified the code in ConfigInfo [1] which I was expecting to work, but in the JSON that is send to the server this still looks like\n\n  \"blocked_names\":{\"0\":\"name1\", \"1\":\"name2\", \"2\":\"name3\"}}\n\nand not like \n\n  \"blocked_names\":[\"name1\", \"name2\", \"name3\"]\n\nas it it supposed to look. I\u0027m still not sure how to make this work. Any further hint would be much appreciated :)\n\n[1] https://gerrit-review.googlesource.com/#/c/54694/3/src/main/java/com/googlesource/gerrit/plugins/serviceuser/client/ConfigInfo.java",
      "parentUuid": "af6ae563_6aa637d4",
      "range": {
        "startLine": 92,
        "startChar": 2,
        "endLine": 97,
        "endChar": 18
      },
      "revId": "d4cb352d48dbcd8cf880b55fc6d1f6206ee78363",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "af6ae563_eab9c7f7",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/serviceuser/client/StringListPanel.java",
        "patchSetId": 1
      },
      "lineNbr": 124,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-02-18T13:33:48Z",
      "side": 1,
      "message": "This always returns null now :(",
      "range": {
        "startLine": 124,
        "startChar": 22,
        "endLine": 124,
        "endChar": 34
      },
      "revId": "d4cb352d48dbcd8cf880b55fc6d1f6206ee78363",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}