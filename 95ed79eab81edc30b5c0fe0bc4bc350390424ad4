{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "99b017ed_0aa2610b",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/serviceuser/CacheInvalidator.java",
        "patchSetId": 1
      },
      "lineNbr": 24,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-10-14T07:02:03Z",
      "side": 1,
      "message": "Why not use the `GitReferenceUpdatedListener` ExtensionPoint?",
      "range": {
        "startLine": 24,
        "startChar": 34,
        "endLine": 24,
        "endChar": 47
      },
      "revId": "95ed79eab81edc30b5c0fe0bc4bc350390424ad4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "16101ea8_68f48caf",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/serviceuser/CacheInvalidator.java",
        "patchSetId": 1
      },
      "lineNbr": 24,
      "author": {
        "id": 1135623
      },
      "writtenOn": "2024-10-14T14:58:24Z",
      "side": 1,
      "message": "Because then we will only trigger on ref updates(serviceuser creations) on the current Gerrit instance. We are interested in serviceusers that are created on the other instances.",
      "parentUuid": "99b017ed_0aa2610b",
      "range": {
        "startLine": 24,
        "startChar": 34,
        "endLine": 24,
        "endChar": 47
      },
      "revId": "95ed79eab81edc30b5c0fe0bc4bc350390424ad4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1ffbe76c_cf824671",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/serviceuser/CacheInvalidator.java",
        "patchSetId": 1
      },
      "lineNbr": 24,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-10-28T15:12:45Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "16101ea8_68f48caf",
      "range": {
        "startLine": 24,
        "startChar": 34,
        "endLine": 24,
        "endChar": 47
      },
      "revId": "95ed79eab81edc30b5c0fe0bc4bc350390424ad4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41efd731_2a275570",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/serviceuser/CacheInvalidator.java",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-10-14T07:02:03Z",
      "side": 1,
      "message": "This listener will get called a lot and most of the time it is not relevant. Wouldn\u0027t it make sense to rather have a specific event or multiple events for changes to serviceusers?",
      "range": {
        "startLine": 40,
        "startChar": 6,
        "endLine": 40,
        "endChar": 74
      },
      "revId": "95ed79eab81edc30b5c0fe0bc4bc350390424ad4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5f9138ed_3fc33187",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/serviceuser/CacheInvalidator.java",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-10-14T11:44:59Z",
      "side": 1,
      "message": "Don\u0027t hardcode the `\"All-Projects\"` name here, inject `AllProjectsName` instead. It may be a completely unused feature, but it is possible to configure alternative name for the `All-Projects` repository:\nhttps://gerrit-review.googlesource.com/Documentation/config-gerrit.html#gerrit.allProjects",
      "range": {
        "startLine": 40,
        "startChar": 59,
        "endLine": 40,
        "endChar": 73
      },
      "revId": "95ed79eab81edc30b5c0fe0bc4bc350390424ad4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b40dfe50_1a0f3583",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/serviceuser/CacheInvalidator.java",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1135623
      },
      "writtenOn": "2024-10-14T14:58:24Z",
      "side": 1,
      "message": "My assumption is that refs/meta/config on All-Projects is not changed that often and that most configuration changes are done in childrens of All-Projects. This solution was intended as a simple fix for multi-site setups that would do little to no harm to other setups. Do you think the current solution would be a problem for others?\nHaving specific events make sense sortof. Introduce a new events just to solve this problem seems a bit extensive, but I guess the events could useful in other ways even if I do not find good reason for them right now.",
      "parentUuid": "41efd731_2a275570",
      "range": {
        "startLine": 40,
        "startChar": 6,
        "endLine": 40,
        "endChar": 74
      },
      "revId": "95ed79eab81edc30b5c0fe0bc4bc350390424ad4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "66b6fe2f_3e2d9118",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/serviceuser/CacheInvalidator.java",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1135623
      },
      "writtenOn": "2024-10-14T15:00:54Z",
      "side": 1,
      "message": "Good find! Did not think about that.",
      "parentUuid": "5f9138ed_3fc33187",
      "range": {
        "startLine": 40,
        "startChar": 59,
        "endLine": 40,
        "endChar": 73
      },
      "revId": "95ed79eab81edc30b5c0fe0bc4bc350390424ad4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3ee648cb_db95b510",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/serviceuser/CacheInvalidator.java",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-10-28T15:12:45Z",
      "side": 1,
      "message": "I didn\u0027t think of that we talk about different instances here and thus filtering on receiving would be required anyway. So my comment was written with having filtering on the sending site, i.e. call the listener only, if the event is relevant, which would be cheaper, but does not apply here.",
      "parentUuid": "b40dfe50_1a0f3583",
      "range": {
        "startLine": 40,
        "startChar": 6,
        "endLine": 40,
        "endChar": 74
      },
      "revId": "95ed79eab81edc30b5c0fe0bc4bc350390424ad4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}