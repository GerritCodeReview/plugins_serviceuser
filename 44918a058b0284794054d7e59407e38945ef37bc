{
  "comments": [
    {
      "key": {
        "uuid": "a9d73e7f_f503180c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2020-09-16T16:29:31Z",
      "side": 1,
      "message": "With this latest patch, using [1], the user gets created in core but remains unlisted as a service user [2]. It lands into core because running [1] twice lends [3]. However the plugin storage file stated in [4] doesn\u0027t get created, thus the empty listing [2]. I didn\u0027t test the PutOwner part of this change yet given this issue.\n\n[1] https://gerrit.googlesource.com/plugins/serviceuser/+/refs/heads/master/src/main/resources/Documentation/cmd-create.md\n\n[2] http://localhost:8080/x/serviceuser/list\n[3] fatal: username \u0027JenkinsVoter\u0027 already exists\n[4] https://gerrit.googlesource.com/plugins/serviceuser/+/refs/heads/master/src/main/resources/Documentation/about.md",
      "revId": "44918a058b0284794054d7e59407e38945ef37bc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "003f9b14_b70c03b0",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/serviceuser/CreateServiceUser.java",
        "patchSetId": 3
      },
      "lineNbr": 191,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2020-09-25T18:20:07Z",
      "side": 1,
      "message": "Replacing this with that below (locally) didn\u0027t help address the issue I previously commented about.\n\ntry (BatchMetaDataUpdate update \u003d storage.openUpdate(md)) {\n  md.setMessage(\"Create service user \u0027\" + username + \"\u0027\\n\");\n  update.commit();\n}",
      "range": {
        "startLine": 189,
        "startChar": 4,
        "endLine": 191,
        "endChar": 23
      },
      "revId": "44918a058b0284794054d7e59407e38945ef37bc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa644381_0cd21666",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/serviceuser/PutOwner.java",
        "patchSetId": 3
      },
      "lineNbr": 121,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2020-09-25T18:20:07Z",
      "side": 1,
      "message": "(Referring to my other comment here as well.)",
      "range": {
        "startLine": 119,
        "startChar": 4,
        "endLine": 121,
        "endChar": 23
      },
      "revId": "44918a058b0284794054d7e59407e38945ef37bc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}